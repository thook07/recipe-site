extends recipe-partials/layout-grocery

//- Override default config variables
append config
  - var isPageTitle = false
  - var pageTitle = 'Create Recipe'
  - var parentMenu = 'Account'
  - var navbarTemplate = 'navbar-marketplace'
  - var footerTemplate = 'footer-marketplace'
  - var isFileUploadScript = true
  - var showSidebar = false

//- Page Content
block content

  //- dashboard-header.pug template
  //include partials/dashboard-header

  .container.mb-5.pb-3
    .bg-light.box-shadow-lg.rounded-lg.overflow-hidden
      .row

        // Sidebar
        aside.col-lg-4
          //- sidebar-dashboard.pug template
          //include partials/sidebar-dashboard

        // Content
        section.col-lg-12.pt-lg-4.pb-4.mb-3.ml-3
          .pt-2.px-4.pr-xl-5

            // Title
            .d-sm-flex.flex-wrap.justify-content-between.align-items-center.pb-2
              h2.h3.py-2.mr-2.text-center.text-sm-left Create New Recipe
            form(novalidate).needs-validation#cr-form
              //Recipe Name
              .form-group.pb-2
                label(for='cr-recipe-name').font-weight-medium Recipe name
                input(type='text' name="cr-recipe-name" placeholder="Enter Recipe Name Here.." required)#cr-recipe-name.form-control
                small.form-text.text-muted Maximum 100 characters.
                .invalid-feedback
                  | Name is required
              //Recipe URL (when completed)
              .form-group.pb-2.d-none
                label(for='cr-recipe-url').font-weight-medium Recipe URL
                input(type='text' name="cr-recipe-url" readonly)#cr-recipe-url.form-control
                small.form-text.text-muted This url will be auto-generated
              //Ingredients
              .form-group.py-2
                label(for='cr-recipe-ingredients').font-weight-medium Ingredients
                textarea(rows='6' name="cr-recipe-ingredients" placeholder='Enter the ingredients...\n1 cup | applesauce\n1 tsp | salt' required)#cr-recipe-ingredients.form-control
                .invalid-feedback
                  | Parsing Ingredients Failed!
                .bg-secondary.p-3.font-size-ms.rounded-bottom
                  span.d-inline-block.font-weight-medium.mr-2.my-1 Seperate the amount of the ingredient using a pipe "|" or hyphen "-"
                  em.d-inline-block.border-right.pr-2.mr-2.my-1 2 cups | Old Fashioned Oats
                  em.d-inline-block.border-right.pr-2.mr-2.my-1 1 tsp - salt
                  em.d-inline-block.border-right.pr-2.mr-2.my-1 2 Tbsp | Honey
                  em.d-inline-block.border-right.pr-2.mr-2.my-1 1 - small onion

              //Instructions
              .form-group.py-2
                label(for='cr-recipe-instructions').font-weight-medium Instructions
                textarea(rows='6' name="cr-recipe-instructions" placeholder='Step1\nStep2\netc.' required)#cr-recipe-instructions.form-control
                .bg-secondary.p-3.font-size-ms.rounded-bottom
                  span.d-inline-block.font-weight-medium.mr-2.my-1 No need to number them.
              .form-group.py-2
                label(for='cr-recipe-notes').font-weight-medium Notes (Optional)
                textarea(rows='4' name="cr-recipe-notes")#cr-recipe-notes.form-control
              .row
                .col-sm-6.form-group
                  label(for='cr-recipe-prepTime').font-weight-medium Prep Time
                  .input-group
                    .input-group-prepend
                      span.input-group-text
                        i.czi-time
                    input(type='text' name="cr-recipe-prepTime")#cr-recipe-prepTime.form-control
                  small.form-text.text-muted How long will this take to prep?
                .col-sm-6.form-group
                  label(for='cr-recipe-cookTime').font-weight-medium Cook Time
                  .input-group
                    .input-group-prepend
                      span.input-group-text
                        i.czi-time
                    input(type='text' name="cr-recipe-cookTime")#cr-recipe-cookTime.form-control
                  small.form-text.text-muted How long does this need to cook?
              .form-group.pb-2
                label(for='unp-product-name').font-weight-medium Tags
                .row
                  .col-sm-4.form-group
                    label(for='unp-product-name').font-weight-low --#{meals.name}--
                    each tag in meals.tags
                      .custom-control.custom-switch.mb-2
                        input(type="checkbox", data-name=tag.name id=tag.id).custom-control-input.tag-switches
                        label.custom-control-label(for=tag.id) #{tag.name}
                  .col-sm-4.form-group
                    label(for='unp-product-name').font-weight-low --#{cats.name}--
                    each tag in cats.tags
                      .custom-control.custom-switch.mb-2
                        input(type="checkbox", data-name=tag.name id=tag.id).custom-control-input.tag-switches
                        label.custom-control-label(for=tag.id) #{tag.name}
                  .col-sm-4.form-group
                    label(for='unp-product-name').font-weight-low -- Cooking Method --
                    .custom-control.custom-switch.mb-2
                      input(type="checkbox", id="oven").custom-control-input.tag-switches
                      label.custom-control-label(for="oven") Oven
                    .custom-control.custom-switch.mb-2
                      input(type="checkbox", id="instant-pot").custom-control-input.tag-switches
                      label.custom-control-label(for="instant-pot") Instant Pot
                    .custom-control.custom-switch.mb-2
                      input(type="checkbox", id="grill").custom-control-input.tag-switches
                      label.custom-control-label(for="grill") Grill
                    .custom-control.custom-switch.mb-2
                      input(type="checkbox", id="no-bake").custom-control-input.tag-switches
                      label.custom-control-label(for="no-bake") No Bake
              .form-group.pb-2
                label(for='cr-recipe-author').font-weight-medium Recipe Author
                .input-group
                  .input-group-prepend
                    span.input-group-text
                      i.czi-user
                  input(type='text' name="cr-recipe-author")#cr-recipe-author.form-control
              .form-group.pb-2
                label(for='cr-recipe-link').font-weight-medium Link to external recipe
                .input-group
                  .input-group-prepend
                    span.input-group-text
                      i.czi-link
                  input(type='text' name="cr-recipe-link")#cr-recipe-link.form-control
              button#cr-create-recipe-button.btn.btn-primary.btn-block
                i.czi-upload.font-size-lg.mr-2
                | Upload Recipe


  include recipe-partials/toast-generic-success